<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scissors</title>

<style>
body {
    margin: 0;
    background: #0f0f0f;
    font-family: courier, monospace;
    overflow: hidden;
    text-align: center;
}

.scene {
    position: relative;
    width: 100%;
    height: 90vh;
}

.layer {
    max-height: 100%;
    max-width: 100%;
    cursor: pointer;
}

#nextBtn {
    font-family: courier, monospace;
    font-size: 22px;
    padding: 10px 20px;
    cursor: pointer;
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
}
</style>
</head>

<body>

<div class="scene" id="scene">
  <img
    id="frame"
    class="layer"
    src="https://img.freepik.com/premium-photo/yellow-smiling-face-icon-png-cute-crayon-shape-transparent-background_53876-995090.jpg?semt=ais_hybrid&w=740&q=80"
  >
</div>

<button id="nextBtn">next</button>

<script>
/* ---------------------------
   FRAME SWAPPING
----------------------------*/
const scene = document.getElementById("scene");
const frame = document.getElementById("frame");

const frames = [
  "https://img.freepik.com/premium-photo/yellow-smiling-face-icon-png-cute-crayon-shape-transparent-background_53876-995090.jpg?semt=ais_hybrid&w=740&q=80",
  "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvG0oN_IKjEXI-twNIbV_gfaUSulP_7k6Wfg&s"
];

let frameIndex = 0;

scene.addEventListener("click", () => {
  frameIndex = (frameIndex + 1) % frames.length;
  frame.src = frames[frameIndex];
});

/* ---------------------------
   SHUFFLED NAVIGATION
----------------------------*/
const params = new URLSearchParams(window.location.search);
const order = params.get("order")?.split(",").map(Number) || [];
const currentPage = 2; // CHANGE PER PAGE
const pageIndex = order.indexOf(currentPage);

document.getElementById("nextBtn").onclick = () => {
  window.location.href =
    pageIndex >= 0 && pageIndex < order.length - 1
      ? `page${order[pageIndex + 1]}.html?order=${order.join(",")}`
      : "index.html";
};

/* ---------------------------
   AUDIO (USER-INITIATED)
----------------------------*/
const audio = new Audio("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3");

// Play audio on first interaction (required by browsers)
document.body.addEventListener("click", () => {
  audio.play().catch(() => {});
}, { once: true });
</script>

</body>
</html>

